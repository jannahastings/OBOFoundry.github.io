{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"$id" : "http://obofoundry.org/config/test_schema",
	"title": "merged_schema_for_testing",
	"if": {
    	"properties": { "is_obsolete": { "const": true } }
  	},
	"then":  true,
  	"else": {
		"allOf": [
		{
			"title": "aberowl_id",
			"level": "error",
			"description": "'aberowl_id' is an optional property, used only when AberOWL requires a special exception for this ontology's 'id'.",
			"properties": {
				"aberowl_id": {
					"type": "string",
					"pattern": "^[0-9a-z_]+$"
				}
			}
		},
		{
			"title": "activity_status",
			"level": "error",
			"principle": "http://obofoundry.org/principles/fp-016-maintenance.html",
			"description": "'activity_status' is a required property that must have a value of 'active', 'inactive', or 'orphaned'. Active ontologies have a contact and are currently in development. Orphaned ontologies are still in development, but do not have a contact. Inactive ontologies are no longer in development.",
			"properties": {
			"activity_status": {
				"enum": [
					"active",
					"inactive",
					"orphaned"
				]
			},
			"errors": {
				"activity_status": "${data} is not one of ${schema}."
			}
			},
			"required": [
				"activity_status"
			]
		},
		{
			"title": "contact",
			"level": "error",
			"principle": "http://obofoundry.org/principles/fp-011-locus-of-authority.html",
			"description": "'contact' is a required property. This object must include an email and a label (the name of the contact). The contact is the person responsible for communications between the community and the ontology developers.",
			"properties": {
				"contact": {
					"type": "object",
					"properties": {
						"github": {
							"type": "string",
							"pattern": "^[^@]+$"
						},
						"email": {
							"type": "string",
							"format": "email"
						},
						"label": {
							"type": "string",
							"pattern": "^[^@]+$"
						}
					},
					"required": [
						"email",
						"label"
					]
				}
			},
			"required": [
				"contact"
			]
		},
		{
			"title": "description",
			"level": "warning",
			"description": "'description' is a recommended property. The value is a a string that briefly describes the ontology project.",
			"properties": {
				"description": {
					"type": "string"
				}
			},
			"required": [
				"description"
			]
		},
		{
			"title": "homepage",
			"level": "warning",
			"description": "'homepage' is a recommended property. The value is the full URL to the homepage.",
			"properties": {
				"homepage": {
					"type": "string",
					"format": "uri"
				}
			},
			"required": [
				"homepage"
			]
		},
		{
			"title": "id",
			"level": "error",
			"principle": "http://obofoundry.org/principles/fp-003-uris.html",
			"description": "'id' is a required property. The value is a string with no numeric or lowercase characters. This is typically an abbreviation or acronym of the ontology title.",
			"properties": {
				"id": {
					"type": "string",
					"pattern": "^[0-9a-z_]+$"
				}
			},
			"required": [
				"id"
			]
		},
		{
			"title": "license-lite",
			"level": "error",
			"principle": "http://obofoundry.org/principles/fp-001-open.html",
			"description": "'license' is a required property. The value is an object with a 'url' and 'label' field. The 'url' must be the full URL of the license, and the 'label' is the name of the license.",
			"properties": {
				"license": {
					"type": "object",
					"properties": {
						"url": {
							"type": "string",
							"format": "uri"
						},
						"label": {
							"type": "string"
						}
					},
					"required": [
						"url",
						"label"
					]
				}
			},
			"required": [
				"license"
			]
		},
		{
			"title": "license",
			"level": "warning",
			"principle": "http://obofoundry.org/principles/fp-001-open.html",
			"description": "It is recommended that the 'license' value is CC0 or CC-BY.",
			"properties": {
				"license": {
					"type": "object",
					"properties": {
						"url": {
							"type": "string",
							"format": "uri"
						},
						"label": {
							"type": "string"
						}
					},
					"required": [
						"url",
						"label"
					],
					"oneOf": [
						{
							"properties": {
								"url": {
									"enum": [
										"http://creativecommons.org/licenses/by/4.0/",
										"https://creativecommons.org/licenses/by/4.0/"
									]
								},
								"label": {
									"enum": [
										"CC-BY",
										"CC BY 4.0",
										"CC-BY 4.0"
									]
								}
							}
						},
						{
							"properties": {
								"url": {
									"enum": [
										"http://creativecommons.org/publicdomain/zero/1.0/",
										"https://creativecommons.org/publicdomain/zero/1.0/"
									]
								},
								"label": {
									"enum": [
										"CC-0",
										"CC0",
										"CC0 1.0 Universal",
										"CC0 1.0"
									]
								}
							}
						},
						{
							"properties": {
								"url": {
									"enum": [
										"http://creativecommons.org/licenses/by/3.0/",
										"https://creativecommons.org/licenses/by/3.0/"
									]
								},
								"label": {
									"enum": [
										"CC-BY",
										"CC-BY 3.0",
										"CC BY 3.0"
									]
								}
							}
						},
						{
							"properties": {
								"url": {
									"enum": [
										"http://creativecommons.org/licenses/by-nd/4.0/",
										"https://creativecommons.org/licenses/by-nd/4.0/"
									]
								},
								"label": {
									"enum": [
										"CC BY-ND 4.0"
									]
								}
							}
						},
						{
							"properties": {
								"url": {
									"enum": [
										"http://creativecommons.org/licenses/by-sa/2.0/",
										"https://creativecommons.org/licenses/by-sa/2.0/"
									]
								},
								"label": {
									"enum": [
										"CC-BY-SA",
										"CC BY-SA 2.0"
									]
								}
							}
						},
						{
							"properties": {
								"url": {
									"enum": [
										"http://creativecommons.org/licenses/by/2.0/",
										"https://creativecommons.org/licenses/by/2.0/"
									]
								},
								"label": {
									"enum": [
										"CC-BY",
										"CC BY 2.0",
										"CC-BY 2.0"
									]
								}
							}
						}
					]
				}
			}
		},
		{
			"title": "products",
			"level": "info",
			"description": "'products' is a recommended field. The value is a list of resources, each with an ID. The resources should be in one of the following formats: OWL, OBO, JSON, OFN, OWX, TTL, or g-zipped OWL.",
			"properties": {
				"products": {
					"type": "array",
					"items": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string",
								"pattern": "^[0-9A-Za-z-_\\/]+\\.(owl|obo|json|omn|ofn|owx|ttl|owl\\.gz)$"
							}
						},
						"required": [
							"id"
						]
					}
				}
			},
			"required": [
				"products"
			]
		},
		{
			"title": "title",
			"level": "error",
			"description": "'title' is a required field. The value is the full name of the ontology project.",
			"properties": {
				"title": { "type": "string" }
			},
			"required": ["title"]
		}
		]
  	}
}